
how can one handler get multiple topics. Instance per topic sharing a local database?

Arvo parsing of message

Persistant storage for offsets - MySQL

Ability to configure a block to wrap handler.call and store_offset (allowing them to  be
in a transaction).

handle Poseidon::Errors::OffsetOutOfRange when fetching messages


consumer include which gives them local state
consumer include which gives them access to publish events to Kafka


How to reset offset for a consumer?
- split app.rb in to env.rb and start.rb so you can load the app without starting and thus
get access to the consumers via Irb. Also need to have a Consumers collection class:

app.consumers['an_id'].offset = 0


Poseidon::Errors::UnknownTopicOrPartition can occur if the topic does not exist
or the topic is correct but it has not been auto-created because no messages
have been published to the topic yet.



testing? method in consumer could be replaced with a after_hook which is a block
instance eval'd. The tests can have the block call stop.

trap exceptions in handlers
pool of consumers
supervisor for consumers which will restart them.
exception handler
stress test
store offset after message sent to handler
allow to surround handler + offset update in a configurable block,
this allows user to surround both in a transaction (around_filter).

configurable offset updater, in app config and per consumer.

  # actor crashes if the topic does not already exist.
  # rescue Poseidon error or restart

spawn timer to report current offsets every X seconds.
